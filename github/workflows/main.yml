name: "âš›ï¸ FÃ­sico Remoto: Explorador de ParÃ¡metros (Docker)" # Nombre corregido para claridad

on:
  push:
    branches:
      - main
  workflow_dispatch: # Agregado para poder ejecutarlo manualmente

jobs:
  run_physics_analysis:
    # ğŸš¨ CORRECCIÃ“N CLAVE: Usar el contenedor Docker de ATLAS 
    runs-on: ubuntu-latest
    container:
      image: ghcr.io/atlas-outreach-data-tools/notebooks-collection-opendata:latest

    steps:
    
    - name: â¬‡ï¸ Checkout del Repositorio
      uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        
    # âŒ Eliminados los pasos de Configurar Python e Instalar Dependencias
        
    - name: ğŸ§ª Ejecutar el AnÃ¡lisis de FÃ­sica
      # AsegÃºrate de que la ruta a tu script sea correcta (ej. scripts/analysis.py)
      run: python scripts/analysis.py 

    - name: â¬†ï¸ Subir Resultados Consolidados al Repositorio
      uses: stefanzweifel/git-auto-commit-action@v5
      with:
        commit_message: "ğŸ¤– [Autopilot] ActualizaciÃ³n automÃ¡tica de anÃ¡lisis parametrizado"
        files: results/summary_analysis.json
